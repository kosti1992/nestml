<Lems>
    <!-- Generated on Apr 11, 2017 5:01:14 PM from NESTML-model "izhikevich".-->
    <Dimension i="-1" l="2" m="1" name="DimensionOf_mV" t="-3"/>
    <Dimension name="DimensionOf_ms" t="1"/>
    <Dimension i="1" name="DimensionOf_mA"/>
    <Unit dimension="DimensionOf_mA" power="-3" symbol="mA"/>
    <Unit dimension="DimensionOf_ms" power="-3" symbol="ms"/>
    <Unit dimension="DimensionOf_mV" power="-3" symbol="mV"/>
    <ComponentType name="izhikevich">
        <Constant dimension="DimensionOf_mV" name="CON1mV" value="1mV"/>
        <Constant dimension="DimensionOf_ms" name="CON1ms" value="1ms"/>
        <Parameter dimension="none" name="a"/>
        <Parameter dimension="none" name="b"/>
        <Parameter dimension="none" name="c"/>
        <Parameter dimension="none" name="d"/>
        <Parameter dimension="DimensionOf_mV" name="V_m_init"/>
        <Parameter dimension="DimensionOf_mA" name="I_e"/>
        <Constant dimension="DimensionOf_mV" name="CON30mV" value="30mV"/>
        <EventPort direction="in" name="spikes"/>
        <EventPort direction="in" name="currents"/>
        <EventPort direction="out" name="spike"/>
        <Attachments name="pulseGeneratorDL" type="pulseGeneratorDL"/>
        <Dynamics>
            <StateVariable dimension="DimensionOf_mV" name="V_m"/>
            <StateVariable dimension="none" name="u"/>
            <StateVariable dimension="none" name="I"/>
            <StateVariable dimension="none" name="ACTV_m"/>
            <DerivedVariable dimension="none" name="I" reduce="add" select="pulseGeneratorDL[*]/I"/>
            <DerivedVariable dimension="none" name="INITu" value="V_m*b/CON1mV"/>
            <OnStart>
                <StateAssignment value="V_m_init" variable="V_m"/>
                <StateAssignment value="INITu" variable="u"/>
                <StateAssignment value="0" variable="I"/>
                <StateAssignment value="0" variable="ACTV_m"/>
            </OnStart>
            <TimeDerivative value="(ACTV_m*(0.04*V_m*V_m/CON1mV+5*V_m+(140-u+I)*CON1mV))/CON1ms" variable="V_m"/>
            <TimeDerivative value="(a*(b*V_m/CON1mV-u))/CON1ms" variable="u"/>
            <!--Generated from source lines <31,1> to <31,15>.-->
            <!--integrate(V_m)-->
            <OnCondition test="1.eq.1">
                <StateAssignment value="1" variable="ACTV_m"/>
            </OnCondition>
            <!--Generated from source lines <32,19> to <35,19>.-->
            <!--if V_m>=30:-->
            <!--  V_m = c*1-->
            <!--  u += d-->
            <!--  emit_spike()-->
            <OnCondition test="(V_m.geq.CON30mV)">
                <StateAssignment value="c*CON1mV" variable="V_m"/>
                <StateAssignment value="d+u" variable="u"/>
                <EventOut port="spike"/>
                <StateAssignment value="0" variable="ACTV_m"/>
            </OnCondition>
        </Dynamics>
    </ComponentType>
</Lems>

